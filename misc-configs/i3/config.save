# ------------------------------------------------------------------------------
# i3 Configuration File
# High DPI, Addons Setup, and Custom Bindings
# ------------------------------------------------------------------------------

# Use Mod4 (Super/Windows key) as the modifier key
set $mod Mod4

# ------------------------------------------------------------------------------
# Appearance & DPI Scaling
# ------------------------------------------------------------------------------

# Increase default font size for high DPI displays
font pango:DejaVu Sans Mono 16

# Set window gaps for a cleaner look on high resolution screens
# These values can be adjusted to preference
for_window [class="^.*"] border pixel 2

# Apply DPI scaling using xrandr on startup (adjust output name as needed)
# Replace "YOUR_MONITOR_OUTPUT" with the actual monitor identifier (e.g., eDP-1, HDMI-1)
exec_always --no-startup-id xrandr --output YOUR_MONITOR_OUTPUT --scale 1x1 --dpi 192

# ------------------------------------------------------------------------------
# Autostart Applications
# ------------------------------------------------------------------------------

# Start picom for compositing effects (transparency, shadows, etc.)
exec_always --no-startup-id picom --config ~/.config/picom/picom.conf

# Launch polybar (if configured) after i3 starts
exec_always --no-startup-id ~/.config/polybar/launch.sh

# Set desktop background using feh (adjust path to your wallpaper)
exec_always --no-startup-id feh --bg-scale /path/to/your/wallpaper.jpg

# ------------------------------------------------------------------------------
# Keybindings for Launchers and Utilities
# ------------------------------------------------------------------------------

# Launch terminal (Alacritty) with Mod+Enter
bindsym $mod+Return exec alacritty

# Launch alternative terminal (xterm) with Mod+Shift+Enter if needed
bindsym $mod+Shift+Return exec xterm

# Launch Rofi as application launcher with Mod+d
bindsym $mod+d exec --no-startup-id rofi -show drun -modi drun,run,window -theme ~/.config/rofi/theme.rasi

# Lock screen using i3lock with Mod+Shift+L
bindsym $mod+Shift+l exec --no-startup-id i3lock -i /path/to/lockscreen/image.png

# Open Ranger file manager in Alacritty with Mod+Shift+e
bindsym $mod+Shift+e exec alacritty -e ranger

# Volume control using pavucontrol with Mod+Shift+P
bindsym $mod+Shift+p exec --no-startup-id pavucontrol

# ------------------------------------------------------------------------------
# Window Management Keybindings
# ------------------------------------------------------------------------------

# Standard window focus and movement keys
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+semicolon focus right

bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

# Split orientation
bindsym $mod+h split h
bindsym $mod+v split v

# Reload and restart i3
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart

# Exit i3
bindsym $mod+Shift+e exec --no-startup-id i3-msg exit

# ------------------------------------------------------------------------------
# Workspace Management
# ------------------------------------------------------------------------------

# Define workspaces and assign icons or numbers for clarity
set $ws1 ""
set $ws2 ""
set $ws3 ""
set $ws4 ""
set $ws5 ""
set $ws6 ""
set $ws7 ""
set $ws8 ""
set $ws9 ""

# Switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9

# ------------------------------------------------------------------------------
# i3blocks for Status Bar
# ------------------------------------------------------------------------------

# Use i3bar with i3blocks for status information
bar {
    status_command i3blocks
    font pango:DejaVu Sans Mono 14
    workspace_buttons yes
    # Adjust bar height for high DPI
    height 30
    # Colors for the bar (customize as preferred)
    colors {
        background #282828
        statusline #ebdbb2
        separator  #3c3836

        focused_workspace  #458588 #458588 #ffffff
        active_workspace   #3c3836 #3c3836 #ebdbb2
        inactive_workspace #282828 #282828 #a89984
        urgent_workspace   #cc241d #cc241d #ffffff
    }
}

# ------------------------------------------------------------------------------
# Floating Windows Rules
# ------------------------------------------------------------------------------

# Allow certain applications to float
for_window [class="^Pavucontrol$"] floating enable
for_window [class="^Rofi$"] floating enable
for_window [class="^feh$"] floating enable
for_window [class="^pinentry$"] floating enable

# ------------------------------------------------------------------------------
# Miscellaneous Settings
# ------------------------------------------------------------------------------

# Use gaps between windows (requires i3-gaps, adjust if necessary)
# Example: gaps inner 10; gaps outer 10

# Focus follows mouse pointer
focus_follows_mouse yes

# Smart border behavior
smart_borders on

# ------------------------------------------------------------------------------
# End of Configuration
# ------------------------------------------------------------------------------

# Notes:
# - Ensure you have installed and configured the necessary theme files for rofi, polybar, and picom.
# - Adjust paths to wallpapers, lockscreen images, and configuration scripts as needed.
# - The "YOUR_MONITOR_OUTPUT" placeholder in the xrandr command should be replaced with your actual monitor identifier. You can find it using the `xrandr` command.
